
# chattr

chattr命令用来改变文件属性。这项指令可改变存放在ext2文件系统上的文件或目录属性，这些属性共有以下8种模式：

## 属性
- `a`：让文件或目录仅供追加用途； 
- b：不更新文件或目录的最后存取时间； 
- c：将文件或目录压缩后存放； 
- d：将文件或目录排除在倾倒操作之外； 
- `i`：不得任意更动文件或目录； 
- `s`：保密性删除文件或目录，磁盘空间会被收回； 
- S：即时更新文件或目录； 
- `u`：预防意外删除，与`s`相反，删除后，数据内容还在磁盘上

## 选项
- `-R`：递归处理，将指令目录下的所有文件及子目录一并处理； 
- `-v<版本编号>`：设置文件或目录版本； 
- `-V`：显示指令执行过程； 
- `+<属性>`：开启文件或目录的该项属性； 
- `-<属性>`：关闭文件或目录的该项属性； 
- `=<属性>`：指定文件或目录的该项属性。


## 实例

### 禁止修改文件
``` bash
chattr +i /etc/fstab
```
然后试一下`rm`、`mv`、`rename`等命令操作于该文件，都是得到`Operation not permitted`的结果。

### 只能追加不能删除

``` bash
chattr +a /data1/user_act.log
```


## Read More
> [chattr 命令](http://man.linuxde.net/chattr)
> [Linux的chattr与lsattr命令详解](http://www.ha97.com/5172.html)