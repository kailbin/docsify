# 《Hadoop 权威指南》 读书笔记 
 
 
## 03 Hadoop分布式文件系统 
 
- 要求低延时（几十毫秒内）的数据访问不适合在 HDFS 上运行；**HDFS 牺牲延时性 为高吞吐量应用优化**；对于低延时的访问需求，可以使用 HBase 
- NameNode 将文件系统的元数据放在内存中，所以 **HDFS 存储的文件总数 受限于 NameNode 的内存大小**； 
    - 每个文件、目录、数据块的存储信息大约占用 150字节 
    - 如果有 100W 的文件 且每个文件占用一个数据块，那个需要 300M 内存 
    - 如果存储 数十亿的文件(300G)，可能就会超出当前的硬件能力 
- HDFS 块 设置的如此之大，目的是为了最小化寻址开销（寻址时间/(64M/磁盘访问速率)）,
    - 寻址时间 和 磁盘访问速率 一定的情况下，块越大，寻址占比越小
    - 寻址时间 和 块 一定的情况下，磁盘访问速率越快，寻址占比越大
    - 一般 **块大小 与 磁盘访问速率 越接近越好**
- **没有 namenode 文件系统将无法使用**，如果 namenode 损坏，文件系统中的文件都将丢失    
    1. 备份构成文件系统的元数据文件，可以配置 namenode 在多种文件系统中保存元数据
    2. 运行辅助 namenode，
- 联邦 HDFS 解决了 NameNode 的内存瓶颈问题，方法是一个 NameNode 只管理一个目录（卷）
- **active-standby namenode** 解决了namenode 的单点问题
- Hadoop 有个抽象文件提系统的概念，HDFS 只是其中的一种抽象
- 